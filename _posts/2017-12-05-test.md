

```python
from bs4 import BeautifulSoup

import requests
import numpy as np
import pandas as pd

import matplotlib.pyplot as plt
# import seaborn as sns




```


```python
# x=14
# y=26
position = [
    [0, 0, 0, 0, 0, 0, "철원", "화천", "양구", "고성", 0, 0, 0, 0],
    [0, 0, 0, 0, 0, "서울 도봉", "서울 노원", "연천", "포천", "속초", 0, 0, 0, 0],
    [0, 0, 0,"파주", "고양", "서울강북", "동두천", "양주", "인제", "양양", 0, 0, 0, 0],
    [0, "인천 강화", "김포", "광명", "서울 은평", "서울 서대문", "서울 종로", "의정부", "남양주", "가평", "춘천", 0, 0, 0],
    [0, "인천 서구", "부천", "안양", "서울 강서", "서울 마포", "서울 중구", "서울 동대문", "서울 중랑", "구리", "홍천", "강릉", 0, 0,],
    [0, "인천 동구", "인천 계양", "시흥", "서울 양천", "서울 동작", "서울 용산", "서울 성동", "서울 강동", "하남","횡성", "동해", 0, 0,],
    [0, 0, "인천 부평", "안산", "서울 영등포", "서울 관악", "서울 서초", "서울 광진", "서울 송파", "양평", "평창", "정선", 0, "울릉"],
    [0, "인천 중구", "인천 남구", "화성", "서울 구로", "서울 금천", "서울 강남", "과천", "광주", "여주", "원주", "태백", 0, 0],
    ["인천 웅진", "인천 연수", "인천 남동", "오산", "안성", "군포", "의왕", "성남", "이천", "문경", "영월", "삼척", 0, 0],
    [0, "태안", "당진", "아산", "천안", "평택", "수원", "용인", "상주", "예천", "영주", "봉화", "울진", 0],
    [0, "서산", "홍성", "예산", "공주", "음성", "충주", "단양", "제천", "구미", "안동", "영양", "영덕", 0],
    [0, 0, "보령", "청양", "세종", "진천", "증평", "괴산", "김천", "군위", "의성", "청송", "포항", 0],
    [0, 0, "부여", "논산", "계룡", "대전 대덕", "청주", "보은", "성주", "칠곡", "영천", "경산", "경주", 0],
    [0, 0, "서천", "금산", "대전 유성", "대전 동구", "옥천", "고령", "청도", "대구 북구", "대구 중구", "대구 동구", "울산 북구", 0],
    [0, 0, "군산", "익산", "대전 서구", "대전 중구", "영동", "합천", "대구 서구", "대구 남구", "대구 수성", "울산 중구", "울산 동구", 0],
    [0, 0, "부안", "김제", "완주", "무주", "거창", "창녕", "대구 달서", "대구 달성", "부산 금정", "울산 중구", "울산 남구", 0],
    [0, "고창", "정읍", "전주", "진안", "장수", "함양", "의령", "밀양", "부산 북구", "부산 부산진", "부산 동래", "부산 기장", 0],
    [0, "영광", "장성", "순창", "임실", "남원", "진주", "함안", "양산", "부산 시상", "부산 동구", "부산 연제", "부산 해운대", 0],
    [0, "함평", "담양", "곡성", "구례", "산청", "사천", "창원", "부산 강서", "부산 서구", "부산 중구", "부산 수영", 0, 0],
    ["신안", "무안", "광주 광산", "광주 북구", "화순", "하동", "남해", "고성", "김해", "부산 사하", "부산 영도", "부산 남구", 0, 0],
    ["목포", "나주", "광주 서구", "광주 동구", "순천", "광양", 0, 0, "통영", "거제", 0, 0, 0, 0],
    ["해남", "영암", "광주 남구", "보성", "여수", 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ["진도", "강진", "장흥", "고흥", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, "완도", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, "제주", 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, "서귀포", 0, 0, 0, 0, 0, 0, 0, 0, 0],
   ]
```


```python
region = (
    "서울특별시",
    "부산광역시",
    "대구광역시",
    "인천광역시",
    "광주광역시",
    "대전광역시",
    "울산광역시",
#     "세종특별자치시",
    "경기도",
    "강원도",
    "충청북도",
    "충청남도",
    "전라북도",
    "전라남도",
    "경상북도",
    "경상남도",
    "제주특별자치도",
)

wiki_addr = "https://ko.wikipedia.org/wiki/{addr}"
```


```python
a=requests.get("https://ko.wikipedia.org/wiki/%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C")
```


```python
b=BeautifulSoup(a.text,"lxml")
```


```python
t=b.findAll("table", {"class":["wikitable", "sortable", "jquery-tablesorter"]})

```


```python
a=pd.read_excel("../대한민국_시군구_인구_면적.xlsx")
```


```python
a[:3]
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시</th>
      <th>구</th>
      <th>한자</th>
      <th>Population</th>
      <th>area</th>
      <th>세대</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울특별시</td>
      <td>종로구</td>
      <td>鍾路區</td>
      <td>162957</td>
      <td>23.91</td>
      <td>72582.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울특별시</td>
      <td>중구</td>
      <td>中區</td>
      <td>134463</td>
      <td>9.96</td>
      <td>59591.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울특별시</td>
      <td>용산구</td>
      <td>龍山區</td>
      <td>246317</td>
      <td>21.87</td>
      <td>107026.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
# a.sort_values("세대", ascending=False)
```


```python
# pd.DataFrame(position)
for y in range(len(position)):
    for x in range(len(position[y])):
        if isinstance(position[y][x], str):
            position[y][x] = position[y][x].replace(" ","")
        else:
            position[y][x] = np.nan
            

        
```


```python
p=pd.DataFrame(position)
```


```python
p.to_excel("./position.xlsx")
```


```python
a = pd.read_excel("../position.xlsx")
```


```python
b=pd.DataFrame(np.random.rand(24,16))

b
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.784427</td>
      <td>0.296070</td>
      <td>0.387373</td>
      <td>0.455148</td>
      <td>0.558566</td>
      <td>0.569310</td>
      <td>0.273557</td>
      <td>0.287473</td>
      <td>0.327501</td>
      <td>0.666817</td>
      <td>0.604579</td>
      <td>0.951945</td>
      <td>0.420169</td>
      <td>0.976441</td>
      <td>0.726733</td>
      <td>0.203057</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.644614</td>
      <td>0.589787</td>
      <td>0.978270</td>
      <td>0.275636</td>
      <td>0.758500</td>
      <td>0.667570</td>
      <td>0.934226</td>
      <td>0.050609</td>
      <td>0.351238</td>
      <td>0.242075</td>
      <td>0.745299</td>
      <td>0.641365</td>
      <td>0.882591</td>
      <td>0.774580</td>
      <td>0.080578</td>
      <td>0.885499</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.603110</td>
      <td>0.005891</td>
      <td>0.408428</td>
      <td>0.998714</td>
      <td>0.845830</td>
      <td>0.455699</td>
      <td>0.245415</td>
      <td>0.108154</td>
      <td>0.395057</td>
      <td>0.639083</td>
      <td>0.803079</td>
      <td>0.895306</td>
      <td>0.555097</td>
      <td>0.817171</td>
      <td>0.699726</td>
      <td>0.096908</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.994862</td>
      <td>0.026463</td>
      <td>0.288569</td>
      <td>0.121826</td>
      <td>0.238997</td>
      <td>0.994689</td>
      <td>0.029237</td>
      <td>0.808126</td>
      <td>0.275882</td>
      <td>0.042192</td>
      <td>0.149333</td>
      <td>0.159945</td>
      <td>0.531199</td>
      <td>0.143787</td>
      <td>0.685985</td>
      <td>0.758150</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.873122</td>
      <td>0.449217</td>
      <td>0.689033</td>
      <td>0.416350</td>
      <td>0.716973</td>
      <td>0.815014</td>
      <td>0.560538</td>
      <td>0.422054</td>
      <td>0.075458</td>
      <td>0.822425</td>
      <td>0.987477</td>
      <td>0.426556</td>
      <td>0.439055</td>
      <td>0.225951</td>
      <td>0.975503</td>
      <td>0.630033</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.210379</td>
      <td>0.766289</td>
      <td>0.497768</td>
      <td>0.334516</td>
      <td>0.882282</td>
      <td>0.522427</td>
      <td>0.070879</td>
      <td>0.737639</td>
      <td>0.639085</td>
      <td>0.362846</td>
      <td>0.785743</td>
      <td>0.616250</td>
      <td>0.061043</td>
      <td>0.648088</td>
      <td>0.408797</td>
      <td>0.328557</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.325837</td>
      <td>0.229869</td>
      <td>0.385103</td>
      <td>0.383429</td>
      <td>0.776760</td>
      <td>0.638565</td>
      <td>0.994286</td>
      <td>0.521889</td>
      <td>0.433983</td>
      <td>0.352081</td>
      <td>0.348664</td>
      <td>0.885146</td>
      <td>0.324941</td>
      <td>0.078363</td>
      <td>0.573176</td>
      <td>0.918180</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.333382</td>
      <td>0.961245</td>
      <td>0.583403</td>
      <td>0.228574</td>
      <td>0.991867</td>
      <td>0.749656</td>
      <td>0.908851</td>
      <td>0.376950</td>
      <td>0.185644</td>
      <td>0.427769</td>
      <td>0.940393</td>
      <td>0.524814</td>
      <td>0.533012</td>
      <td>0.003585</td>
      <td>0.974583</td>
      <td>0.021034</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.695084</td>
      <td>0.973725</td>
      <td>0.380715</td>
      <td>0.205880</td>
      <td>0.057261</td>
      <td>0.908015</td>
      <td>0.860771</td>
      <td>0.847808</td>
      <td>0.188073</td>
      <td>0.140387</td>
      <td>0.357519</td>
      <td>0.495918</td>
      <td>0.859972</td>
      <td>0.725421</td>
      <td>0.359861</td>
      <td>0.433273</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.158115</td>
      <td>0.554650</td>
      <td>0.673050</td>
      <td>0.665119</td>
      <td>0.232012</td>
      <td>0.649051</td>
      <td>0.577207</td>
      <td>0.542496</td>
      <td>0.363920</td>
      <td>0.387157</td>
      <td>0.572426</td>
      <td>0.094208</td>
      <td>0.007744</td>
      <td>0.057474</td>
      <td>0.761638</td>
      <td>0.071057</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.226259</td>
      <td>0.328397</td>
      <td>0.020050</td>
      <td>0.925066</td>
      <td>0.896643</td>
      <td>0.973699</td>
      <td>0.488607</td>
      <td>0.448964</td>
      <td>0.046349</td>
      <td>0.060140</td>
      <td>0.869378</td>
      <td>0.678350</td>
      <td>0.610360</td>
      <td>0.446942</td>
      <td>0.875745</td>
      <td>0.605846</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.743695</td>
      <td>0.625112</td>
      <td>0.526170</td>
      <td>0.562928</td>
      <td>0.523874</td>
      <td>0.701174</td>
      <td>0.249729</td>
      <td>0.760075</td>
      <td>0.107969</td>
      <td>0.679347</td>
      <td>0.061219</td>
      <td>0.692770</td>
      <td>0.718308</td>
      <td>0.077549</td>
      <td>0.989503</td>
      <td>0.935837</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0.895966</td>
      <td>0.521461</td>
      <td>0.467077</td>
      <td>0.111383</td>
      <td>0.063062</td>
      <td>0.219990</td>
      <td>0.981021</td>
      <td>0.770149</td>
      <td>0.592604</td>
      <td>0.159525</td>
      <td>0.153709</td>
      <td>0.741482</td>
      <td>0.517599</td>
      <td>0.337932</td>
      <td>0.970497</td>
      <td>0.226721</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0.013913</td>
      <td>0.625659</td>
      <td>0.216128</td>
      <td>0.494615</td>
      <td>0.330078</td>
      <td>0.674497</td>
      <td>0.713976</td>
      <td>0.010145</td>
      <td>0.303179</td>
      <td>0.279738</td>
      <td>0.864241</td>
      <td>0.749355</td>
      <td>0.754471</td>
      <td>0.445232</td>
      <td>0.707566</td>
      <td>0.434116</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0.934799</td>
      <td>0.460826</td>
      <td>0.950722</td>
      <td>0.779307</td>
      <td>0.761165</td>
      <td>0.611292</td>
      <td>0.315036</td>
      <td>0.423945</td>
      <td>0.690535</td>
      <td>0.855884</td>
      <td>0.789597</td>
      <td>0.594310</td>
      <td>0.776626</td>
      <td>0.042470</td>
      <td>0.529657</td>
      <td>0.113469</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0.242348</td>
      <td>0.336029</td>
      <td>0.659292</td>
      <td>0.021264</td>
      <td>0.404084</td>
      <td>0.586312</td>
      <td>0.958890</td>
      <td>0.909937</td>
      <td>0.744930</td>
      <td>0.183739</td>
      <td>0.681089</td>
      <td>0.683016</td>
      <td>0.242863</td>
      <td>0.415178</td>
      <td>0.539999</td>
      <td>0.934571</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0.574508</td>
      <td>0.258929</td>
      <td>0.132832</td>
      <td>0.722795</td>
      <td>0.112638</td>
      <td>0.215780</td>
      <td>0.852149</td>
      <td>0.168972</td>
      <td>0.284495</td>
      <td>0.206649</td>
      <td>0.636413</td>
      <td>0.021170</td>
      <td>0.918334</td>
      <td>0.023532</td>
      <td>0.137690</td>
      <td>0.296195</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.758567</td>
      <td>0.247778</td>
      <td>0.437731</td>
      <td>0.508199</td>
      <td>0.546311</td>
      <td>0.602518</td>
      <td>0.525469</td>
      <td>0.889707</td>
      <td>0.890654</td>
      <td>0.570597</td>
      <td>0.930407</td>
      <td>0.022575</td>
      <td>0.108648</td>
      <td>0.296084</td>
      <td>0.688871</td>
      <td>0.519811</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.399790</td>
      <td>0.570837</td>
      <td>0.433510</td>
      <td>0.428674</td>
      <td>0.794086</td>
      <td>0.658568</td>
      <td>0.802370</td>
      <td>0.203140</td>
      <td>0.114704</td>
      <td>0.291179</td>
      <td>0.362362</td>
      <td>0.698575</td>
      <td>0.601759</td>
      <td>0.872563</td>
      <td>0.467463</td>
      <td>0.231917</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.778207</td>
      <td>0.115455</td>
      <td>0.376444</td>
      <td>0.561637</td>
      <td>0.988015</td>
      <td>0.959817</td>
      <td>0.512269</td>
      <td>0.670039</td>
      <td>0.241121</td>
      <td>0.879534</td>
      <td>0.890063</td>
      <td>0.135954</td>
      <td>0.669558</td>
      <td>0.074444</td>
      <td>0.641726</td>
      <td>0.446110</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0.994124</td>
      <td>0.722985</td>
      <td>0.795973</td>
      <td>0.883094</td>
      <td>0.063085</td>
      <td>0.110808</td>
      <td>0.265082</td>
      <td>0.613238</td>
      <td>0.169104</td>
      <td>0.806540</td>
      <td>0.853921</td>
      <td>0.877983</td>
      <td>0.426174</td>
      <td>0.458559</td>
      <td>0.398118</td>
      <td>0.502647</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0.993698</td>
      <td>0.566244</td>
      <td>0.877612</td>
      <td>0.003429</td>
      <td>0.891585</td>
      <td>0.533860</td>
      <td>0.915165</td>
      <td>0.236869</td>
      <td>0.053749</td>
      <td>0.227310</td>
      <td>0.374291</td>
      <td>0.329350</td>
      <td>0.187783</td>
      <td>0.720055</td>
      <td>0.924868</td>
      <td>0.425782</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0.548202</td>
      <td>0.668433</td>
      <td>0.859910</td>
      <td>0.559611</td>
      <td>0.004599</td>
      <td>0.205552</td>
      <td>0.938022</td>
      <td>0.675143</td>
      <td>0.979954</td>
      <td>0.951629</td>
      <td>0.401215</td>
      <td>0.671839</td>
      <td>0.498500</td>
      <td>0.175818</td>
      <td>0.908576</td>
      <td>0.967827</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0.663683</td>
      <td>0.580809</td>
      <td>0.664011</td>
      <td>0.062305</td>
      <td>0.508765</td>
      <td>0.525113</td>
      <td>0.680439</td>
      <td>0.650896</td>
      <td>0.023265</td>
      <td>0.853071</td>
      <td>0.063486</td>
      <td>0.215949</td>
      <td>0.978340</td>
      <td>0.704519</td>
      <td>0.523330</td>
      <td>0.809439</td>
    </tr>
  </tbody>
</table>
</div>




```python
plt.figure(figsize=[5,5])
sns.heatmap(b,annot=t)
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_14_0.png)



```python
t=np.array([[x for x in range(16)] for y in range(24)])
# t
```


```python
a
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>철원</td>
      <td>화천</td>
      <td>양구</td>
      <td>고성</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>서울도봉</td>
      <td>서울노원</td>
      <td>연천</td>
      <td>포천</td>
      <td>속초</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>파주</td>
      <td>고양</td>
      <td>서울강북</td>
      <td>서울성북</td>
      <td>동두천</td>
      <td>양주</td>
      <td>인제</td>
      <td>양양</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>인천강화</td>
      <td>김포</td>
      <td>광명</td>
      <td>서울은평</td>
      <td>서울서대문</td>
      <td>서울종로</td>
      <td>의정부</td>
      <td>남양주</td>
      <td>가평</td>
      <td>춘천</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>인천서구</td>
      <td>부천</td>
      <td>안양</td>
      <td>서울강서</td>
      <td>서울마포</td>
      <td>서울중구</td>
      <td>서울동대문</td>
      <td>서울중랑</td>
      <td>구리</td>
      <td>홍천</td>
      <td>강릉</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>NaN</td>
      <td>인천동구</td>
      <td>인천계양</td>
      <td>시흥</td>
      <td>서울양천</td>
      <td>서울동작</td>
      <td>서울용산</td>
      <td>서울성동</td>
      <td>서울강동</td>
      <td>하남</td>
      <td>횡성</td>
      <td>동해</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>인천부평</td>
      <td>안산</td>
      <td>서울영등포</td>
      <td>서울관악</td>
      <td>서울서초</td>
      <td>서울광진</td>
      <td>서울송파</td>
      <td>양평</td>
      <td>평창</td>
      <td>정선</td>
      <td>NaN</td>
      <td>울릉</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>인천중구</td>
      <td>인천남구</td>
      <td>화성</td>
      <td>서울구로</td>
      <td>서울금천</td>
      <td>서울강남</td>
      <td>과천</td>
      <td>광주</td>
      <td>여주</td>
      <td>원주</td>
      <td>태백</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>인천옹진</td>
      <td>인천연수</td>
      <td>인천남동</td>
      <td>오산</td>
      <td>안성</td>
      <td>군포</td>
      <td>의왕</td>
      <td>성남</td>
      <td>이천</td>
      <td>문경</td>
      <td>영월</td>
      <td>삼척</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>NaN</td>
      <td>태안</td>
      <td>당진</td>
      <td>아산</td>
      <td>천안</td>
      <td>평택</td>
      <td>수원</td>
      <td>용인</td>
      <td>상주</td>
      <td>예천</td>
      <td>영주</td>
      <td>봉화</td>
      <td>울진</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>NaN</td>
      <td>서산</td>
      <td>홍성</td>
      <td>예산</td>
      <td>공주</td>
      <td>음성</td>
      <td>충주</td>
      <td>단양</td>
      <td>제천</td>
      <td>구미</td>
      <td>안동</td>
      <td>영양</td>
      <td>영덕</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>보령</td>
      <td>청양</td>
      <td>세종</td>
      <td>진천</td>
      <td>증평</td>
      <td>괴산</td>
      <td>김천</td>
      <td>군위</td>
      <td>의성</td>
      <td>청송</td>
      <td>포항</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>부여</td>
      <td>논산</td>
      <td>계룡</td>
      <td>대전대덕</td>
      <td>청주</td>
      <td>보은</td>
      <td>성주</td>
      <td>칠곡</td>
      <td>영천</td>
      <td>경산</td>
      <td>경주</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>서천</td>
      <td>금산</td>
      <td>대전유성</td>
      <td>대전동구</td>
      <td>옥천</td>
      <td>고령</td>
      <td>청도</td>
      <td>대구북구</td>
      <td>대구중구</td>
      <td>대구동구</td>
      <td>울산북구</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>군산</td>
      <td>익산</td>
      <td>대전서구</td>
      <td>대전중구</td>
      <td>영동</td>
      <td>합천</td>
      <td>대구서구</td>
      <td>대구남구</td>
      <td>대구수성</td>
      <td>울산중구</td>
      <td>울산동구</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>부안</td>
      <td>김제</td>
      <td>완주</td>
      <td>무주</td>
      <td>거창</td>
      <td>창녕</td>
      <td>대구달서</td>
      <td>대구달성</td>
      <td>부산금정</td>
      <td>울산울주</td>
      <td>울산남구</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16</th>
      <td>NaN</td>
      <td>고창</td>
      <td>정읍</td>
      <td>전주</td>
      <td>진안</td>
      <td>장수</td>
      <td>함양</td>
      <td>의령</td>
      <td>밀양</td>
      <td>부산북구</td>
      <td>부산부산진</td>
      <td>부산동래</td>
      <td>부산기장</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>17</th>
      <td>NaN</td>
      <td>영광</td>
      <td>장성</td>
      <td>순창</td>
      <td>임실</td>
      <td>남원</td>
      <td>진주</td>
      <td>함안</td>
      <td>양산</td>
      <td>부산사상</td>
      <td>부산동구</td>
      <td>부산연제</td>
      <td>부산해운대</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18</th>
      <td>NaN</td>
      <td>함평</td>
      <td>담양</td>
      <td>곡성</td>
      <td>구례</td>
      <td>산청</td>
      <td>사천</td>
      <td>창원</td>
      <td>부산강서</td>
      <td>부산서구</td>
      <td>부산중구</td>
      <td>부산수영</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>19</th>
      <td>신안</td>
      <td>무안</td>
      <td>광주광산</td>
      <td>광주북구</td>
      <td>화순</td>
      <td>하동</td>
      <td>남해</td>
      <td>고성</td>
      <td>김해</td>
      <td>부산사하</td>
      <td>부산영도</td>
      <td>부산남구</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20</th>
      <td>목포</td>
      <td>나주</td>
      <td>광주서구</td>
      <td>광주동구</td>
      <td>순천</td>
      <td>광양</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>통영</td>
      <td>거제</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21</th>
      <td>해남</td>
      <td>영암</td>
      <td>광주남구</td>
      <td>보성</td>
      <td>여수</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>22</th>
      <td>진도</td>
      <td>강진</td>
      <td>장흥</td>
      <td>고흥</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>23</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>완도</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>24</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>제주</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>25</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>서귀포</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from matplotlib import colors

def draw_blockcolormap(tbl, datacol, vmin, vmax, whitelabelmin, cmapname, gamma, datalabel, dataticks):
    cmap = colors.LinearSegmentedColormap(cmapname + 'custom', getattr(_cm, '_{}_data'.format(cmapname)), gamma=gamma)
    cmap.set_bad('white', 1.)

    mapdata = tbl.pivot(index='y', columns='x', values=datacol)
    masked_mapdata = np.ma.masked_where(np.isnan(mapdata), mapdata)

    plt.figure(figsize=(9, 16))
    plt.pcolor(masked_mapdata, vmin=vmin, vmax=vmax, cmap=cmap,
               edgecolor='#aaaaaa', linewidth=0.5)

    # 지역 이름 표시
    for idx, row in tbl.iterrows():
        annocolor = 'white' if row[datacol] > whitelabelmin else 'black'

        # 광역시는 구 이름이 겹치는 경우가 많아서 시단위 이름도 같이 표시한다. (중구, 서구)
        if row['d1'].endswith('시') and not row['d1'].startswith('세종'):
            dispname = '{}\n{}'.format(row['d1'][:2], row['d2'][:-1])
            if len(row['d2']) <= 2:
                dispname += row['d2'][-1]
        else:
            dispname = row['d2'][:-1]

        # 서대문구, 서귀포시 같이 이름이 3자 이상인 경우에 작은 글자로 표시한다.
        if len(dispname.splitlines()[-1]) >= 3:
            fontsize, linespacing = 12, 1.2
        else:
            fontsize, linespacing = 14, 1.03

        plt.annotate(dispname, (row['x']+0.5, row['y']+0.5), weight='bold',
                     fontsize=fontsize, ha='center', va='center', color=annocolor,
                     linespacing=linespacing)

    # 시도 경계 그린다.
    for path in BORDER_LINES:
        ys, xs = zip(*path)
        plt.plot(xs, ys, c='black', lw=2)

    plt.gca().invert_yaxis()
    plt.gca().set_aspect(1)

    plt.axis('off')
    
    cb = plt.colorbar(shrink=.1, aspect=10)
    cb.set_label(datalabel)
    cb.set_ticks(dataticks)

    plt.tight_layout()
```


```python

```


    ---------------------------------------------------------------------------

    NameError                                 Traceback (most recent call last)

    <ipython-input-10-14d01399fceb> in <module>()
    ----> 1 draw_blockcolormap(position, 'BgIdx', 0, 3, 1.42, 'Blues', 0.75, '버거지수', np.arange(0, 3.1, 0.5))
    

    <ipython-input-9-11d0fb4c6569> in draw_blockcolormap(tbl, datacol, vmin, vmax, whitelabelmin, cmapname, gamma, datalabel, dataticks)
          6 def draw_blockcolormap(tbl, datacol, vmin, vmax, whitelabelmin, cmapname, gamma, datalabel, dataticks):
          7     cmap = colors.LinearSegmentedColormap(cmapname + 'custom',
    ----> 8                       getattr(_cm, '_{}_data'.format(cmapname)), gamma=gamma)
          9     cmap.set_bad('white', 1.)
         10 


    NameError: name '_cm' is not defined



```python
data = {
    "도시": ["서울", "서울", "서울",
           "부산", "부산", "부산",
           "인천", "인천"],
    "연도": ["2015", "2010", "2005",
           "2015", "2010", "2005",
           "2015", "2010"],
    "인구": [9904312, 9631482, 9762546,
           3448737, 3393191, 3512547,
           2890451, 2632035],
    "지역": ["수도권", "수도권", "수도권",
            "경상권", "경상권", "경상권",
            "수도권", "수도권"]
}
columns = ["도시", "연도", "인구", "지역"]
df1 = pd.DataFrame(data, columns=columns)
df1
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>도시</th>
      <th>연도</th>
      <th>인구</th>
      <th>지역</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2015</td>
      <td>9904312</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>2010</td>
      <td>9631482</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>2005</td>
      <td>9762546</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>3</th>
      <td>부산</td>
      <td>2015</td>
      <td>3448737</td>
      <td>경상권</td>
    </tr>
    <tr>
      <th>4</th>
      <td>부산</td>
      <td>2010</td>
      <td>3393191</td>
      <td>경상권</td>
    </tr>
    <tr>
      <th>5</th>
      <td>부산</td>
      <td>2005</td>
      <td>3512547</td>
      <td>경상권</td>
    </tr>
    <tr>
      <th>6</th>
      <td>인천</td>
      <td>2015</td>
      <td>2890451</td>
      <td>수도권</td>
    </tr>
    <tr>
      <th>7</th>
      <td>인천</td>
      <td>2010</td>
      <td>2632035</td>
      <td>수도권</td>
    </tr>
  </tbody>
</table>
</div>




```python
a=df1.pivot("도시","연도", "인구")
```


```python
data = np.array([[0.000000,0.000000],[-0.231049,0.000000],[-0.231049,0.000000]])
labels =  np.array([['','B'],['C','D'],['E','F']])
fig, ax = plt.subplots()
ax = sns.heatmap(data, annot = labels, fmt = '', alpha=0.2)
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_21_0.png)



```python
# corr = np.corrcoef(np.random.randn(10, 200))
mask = np.zeros_like(corr)
mask[np.triu_indices_from(mask)] = True
with sns.axes_style("white"):
     ax = sns.heatmap(corr, mask=mask, vmax=.3, square=True)
        
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_22_0.png)



```python
corr = np.corrcoef(np.random.randn(10, 200))
mask = np.zeros_like(corr)
mask[np.triu_indices_from(mask)] = True
with sns.axes_style("white"):
     ax = sns.heatmap(corr, mask=mask, vmax=.3,)
        
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_23_0.png)



```python
import string
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
letters = string.ascii_letters

rs = np.random.RandomState(33)
d = pd.DataFrame(data=rs.normal(size=(100, 26)),
                 columns=list(letters[:26]))

# Compute the correlation matrix
corr = d.corr()

# Generate a mask for the upper triangle
mask = np.zeros_like(corr, dtype=np.bool)
mask[np.triu_indices_from(mask)] = True

# Set up the matplotlib figure
f, ax = plt.subplots(figsize=(11, 9))

# Generate a custom diverging colormap
cmap = sns.diverging_palette(220, 10, as_cmap=True)

# Draw the heatmap with the mask and correct aspect ratio
ax = sns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3,
            square=True, xticklabels=5, yticklabels=5,
            linewidths=.5, cbar_kws={"shrink": .5}, ax=ax)

ax.axhline(y=0, color='k',linewidth=10)
ax.axhline(y=corr.shape[1], color='k',linewidth=10)
ax.axvline(x=0, color='k',linewidth=10)
ax.axvline(x=corr.shape[0], color='k',linewidth=10)
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_24_0.png)



```python
import matplotlib.pyplot as plt
import numpy as np
import matplotlib as mpl
import seaborn as sns; sns.set()
data = np.array([[1.3531363408, 3.339479161, 0.0760855365], [5.1167382617, 3.2890920405, 2.4764601828], [0.0025058257, 2.3165128345, 1.6532714962], [0.2600549869, 5.8427407219, 6.6627226609], [3.0828581725, 16.3825494439, 12.6722666929], [2.3386307357, 13.7275065772, 12.5760972276], [1.224683813, 2.2213656372, 0.6300876451], [0.4163788387, 1.8128374089, 0.0013106046], [0.0277592882, 2.9286203949, 0.810978992], [0.0086613622, 0.6181261247, 1.8287878837], [1.0174519889, 0.2621290291, 0.1922637697], [3.4687429571, 4.0061981716, 0.5507951444], [7.4201304939, 3.881457516, 0.1294141768], [2.5227546319, 6.0526491816, 0.3814362442], [8.147538027, 14.0975727815, 7.9755706939]])
cmap1 = mpl.colors.ListedColormap(['c'])
sns.heatmap(data)
sns.heatmap(data, mask=data > 1.3, cmap=cmap1, cbar=False)
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_25_0.png)



```python
fig, ax = plt.subplots(1,2)
```


```python
fig, ax = plt.subplots(1,2)
ax[0].plot()
# sns.heatmap(data=np.random.randn(0,1,[2,2]),ax=ax[1])
plt.show()
```


![png](%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_files/%EC%A7%80%EB%A6%AC%20%ED%8C%8C%EC%8B%B1_27_0.png)



```python
MCDONALDS_URL = 'http://www.mcdonalds.co.kr/www/kor/findus/district.do?sSearch_yn=Y&skey=2&pageIndex={page}&skeyword={location}'
```


```python
import urllib.request
import json
import pandas as pd
import bs4

def search_mcdonalds_stores_one_page(location, page):
    response = urllib.request.urlopen(
        MCDONALDS_URL.format(location=urllib.parse.quote(location.encode('utf-8')), page=page))
    mcd_data = response.read().decode('utf-8')
    soup = bs4.BeautifulSoup(mcd_data)
    
    ret = []
    for storetag in soup.findAll('dl', attrs={'class': 'clearFix'}):
        storename = storetag.findAll('a')[0].contents[-1].strip()
        storeaddr = storetag.findAll('dd', attrs={'class': 'road'})[0].contents[0].split(']')[1]
        storeaddr_district = storeaddr.split()[:2]
        ret.append([storename] + storeaddr_district)

    return pd.DataFrame(ret, columns=('store', 'd1', 'd2')) if ret else None

# 여러 페이지를 쭉 찾아서 안 나올 때 까지 합친다.
def search_mcdonalds_stores(location):
    from itertools import count
    
    found = []
    for pg in count():
        foundinpage = search_mcdonalds_stores_one_page(location, pg+1)
        if foundinpage is None:
            break
        found.append(foundinpage)

    return pd.concat(found)
```


```python
search_mcdonalds_stores('ㅇㅇ').head()
```

    /usr/local/var/pyenv/versions/anaconda3-4.4.0/lib/python3.6/site-packages/bs4/__init__.py:181: UserWarning: No parser was explicitly specified, so I'm using the best available HTML parser for this system ("lxml"). This usually isn't a problem, but if you run this code on another system, or in a different virtual environment, it may use a different parser and behave differently.
    
    The code that caused this warning is on line 193 of the file /usr/local/var/pyenv/versions/anaconda3-4.4.0/lib/python3.6/runpy.py. To get rid of this warning, change code that looks like this:
    
     BeautifulSoup(YOUR_MARKUP})
    
    to this:
    
     BeautifulSoup(YOUR_MARKUP, "lxml")
    
      markup_type=markup_type))



    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    <ipython-input-89-0476a4c3321f> in <module>()
    ----> 1 search_mcdonalds_stores('ㅇㅇ').head()
    

    <ipython-input-86-e20a45cff3f0> in search_mcdonalds_stores(location)
         30         found.append(foundinpage)
         31 
    ---> 32     return pd.concat(found)
    

    /usr/local/var/pyenv/versions/anaconda3-4.4.0/lib/python3.6/site-packages/pandas/core/reshape/concat.py in concat(objs, axis, join, join_axes, ignore_index, keys, levels, names, verify_integrity, copy)
        204                        keys=keys, levels=levels, names=names,
        205                        verify_integrity=verify_integrity,
    --> 206                        copy=copy)
        207     return op.get_result()
        208 


    /usr/local/var/pyenv/versions/anaconda3-4.4.0/lib/python3.6/site-packages/pandas/core/reshape/concat.py in __init__(self, objs, axis, join, join_axes, keys, levels, names, ignore_index, verify_integrity, copy)
        237 
        238         if len(objs) == 0:
    --> 239             raise ValueError('No objects to concatenate')
        240 
        241         if keys is None:


    ValueError: No objects to concatenate

